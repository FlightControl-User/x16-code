<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Equinoxe game: D:/Users/svenv/OneDrive/Documents/GitHub/kickc/src/main/kc/lib/c64-multiplexer.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Equinoxe game
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('c64-multiplexer_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">c64-multiplexer.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="c64-multiplexer_8h_source.html">c64-multiplexer.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="c64_8h_source.html">c64.h</a>&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for c64-multiplexer.c:</div>
<div class="dyncontent">
<div class="center"><img src="c64-multiplexer_8c__incl.png" border="0" usemap="#a_d_1_2_users_2svenv_2_one_drive_2_documents_2_git_hub_2kickc_2src_2main_2kc_2lib_2c64-multiplexer_8c" alt=""/></div>
<map name="a_d_1_2_users_2svenv_2_one_drive_2_documents_2_git_hub_2kickc_2src_2main_2kc_2lib_2c64-multiplexer_8c" id="a_d_1_2_users_2svenv_2_one_drive_2_documents_2_git_hub_2kickc_2src_2main_2kc_2lib_2c64-multiplexer_8c">
<area shape="rect" title=" " alt="" coords="52,5,267,61"/>
<area shape="rect" href="c64-multiplexer_8h.html" title=" " alt="" coords="49,109,171,136"/>
<area shape="rect" href="c64_8h.html" title=" " alt="" coords="132,184,187,211"/>
<area shape="rect" href="mos6526_8h.html" title=" " alt="" coords="5,259,92,285"/>
<area shape="rect" href="mos6569_8h.html" title=" " alt="" coords="116,259,203,285"/>
<area shape="rect" href="mos6581_8h.html" title=" " alt="" coords="227,259,313,285"/>
</map>
</div>
</div>
<p><a href="c64-multiplexer_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aa5f136c8905628098cd8f58d4139a616"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="c64-multiplexer_8c.html#aa5f136c8905628098cd8f58d4139a616">plexInit</a> (char *screen)</td></tr>
<tr class="memdesc:aa5f136c8905628098cd8f58d4139a616"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the multiplexer data structures.  <a href="c64-multiplexer_8c.html#aa5f136c8905628098cd8f58d4139a616">More...</a><br /></td></tr>
<tr class="separator:aa5f136c8905628098cd8f58d4139a616"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae26237312d3cd8a59952f961ef23798e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="c64-multiplexer_8c.html#ae26237312d3cd8a59952f961ef23798e">plexSetScreen</a> (char *screen)</td></tr>
<tr class="memdesc:ae26237312d3cd8a59952f961ef23798e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the address of the current screen used for setting sprite pointers (at screen+0x3f8)  <a href="c64-multiplexer_8c.html#ae26237312d3cd8a59952f961ef23798e">More...</a><br /></td></tr>
<tr class="separator:ae26237312d3cd8a59952f961ef23798e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65bea2e4670a4e777e356aff5d3291bc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="c64-multiplexer_8c.html#a65bea2e4670a4e777e356aff5d3291bc">plexSort</a> ()</td></tr>
<tr class="separator:a65bea2e4670a4e777e356aff5d3291bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc54358b0287f6831ae53c03847c3dac"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="c64-multiplexer_8c.html#afc54358b0287f6831ae53c03847c3dac">plexShowSprite</a> ()</td></tr>
<tr class="separator:afc54358b0287f6831ae53c03847c3dac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13e7f1c7590f0985de5fd70ab7469c52"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="c64-multiplexer_8c.html#a13e7f1c7590f0985de5fd70ab7469c52">plexShowNextYpos</a> ()</td></tr>
<tr class="memdesc:a13e7f1c7590f0985de5fd70ab7469c52"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the y-position of the next sprite to show.  <a href="c64-multiplexer_8c.html#a13e7f1c7590f0985de5fd70ab7469c52">More...</a><br /></td></tr>
<tr class="separator:a13e7f1c7590f0985de5fd70ab7469c52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad712ba9311b9ca904e9b7fe1376d31ab"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="c64-multiplexer_8c.html#ad712ba9311b9ca904e9b7fe1376d31ab">plexFreePrepare</a> ()</td></tr>
<tr class="memdesc:ad712ba9311b9ca904e9b7fe1376d31ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare for a new frame. Initialize free to zero for all sprites.  <a href="c64-multiplexer_8c.html#ad712ba9311b9ca904e9b7fe1376d31ab">More...</a><br /></td></tr>
<tr class="separator:ad712ba9311b9ca904e9b7fe1376d31ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bbab5e4e6ce0a2b102448e0f9b66ffe"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="c64-multiplexer_8c.html#a4bbab5e4e6ce0a2b102448e0f9b66ffe">plexFreeNextYpos</a> ()</td></tr>
<tr class="memdesc:a4bbab5e4e6ce0a2b102448e0f9b66ffe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the Y-position where the next sprite to be shown is free to use.  <a href="c64-multiplexer_8c.html#a4bbab5e4e6ce0a2b102448e0f9b66ffe">More...</a><br /></td></tr>
<tr class="separator:a4bbab5e4e6ce0a2b102448e0f9b66ffe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4981278af7315142e759e221fe9506d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="c64-multiplexer_8c.html#ac4981278af7315142e759e221fe9506d">plexFreeAdd</a> (char ypos)</td></tr>
<tr class="memdesc:ac4981278af7315142e759e221fe9506d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the data structure to reflect that a sprite has been shown. This sprite will be free again after 21 lines.  <a href="c64-multiplexer_8c.html#ac4981278af7315142e759e221fe9506d">More...</a><br /></td></tr>
<tr class="separator:ac4981278af7315142e759e221fe9506d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a9c06d141e9c286c978efdb313a870055"><td class="memItemLeft" align="right" valign="top">const char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="c64-multiplexer_8c.html#a9c06d141e9c286c978efdb313a870055">PLEX_COUNT</a> = 32</td></tr>
<tr class="memdesc:a9c06d141e9c286c978efdb313a870055"><td class="mdescLeft">&#160;</td><td class="mdescRight">The number of sprites in the multiplexer.  <a href="c64-multiplexer_8c.html#a9c06d141e9c286c978efdb313a870055">More...</a><br /></td></tr>
<tr class="separator:a9c06d141e9c286c978efdb313a870055"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fd2aa540d1a5a799c399c3c561f9b85"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="c64-multiplexer_8c.html#a8fd2aa540d1a5a799c399c3c561f9b85">PLEX_XPOS</a> [<a class="el" href="c64-multiplexer_8c.html#a9c06d141e9c286c978efdb313a870055">PLEX_COUNT</a>]</td></tr>
<tr class="memdesc:a8fd2aa540d1a5a799c399c3c561f9b85"><td class="mdescLeft">&#160;</td><td class="mdescRight">The x-positions of the multiplexer sprites (0x000-0x1ff)  <a href="c64-multiplexer_8c.html#a8fd2aa540d1a5a799c399c3c561f9b85">More...</a><br /></td></tr>
<tr class="separator:a8fd2aa540d1a5a799c399c3c561f9b85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30e69f4249d3dd90ca50f194e84d7986"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="c64-multiplexer_8c.html#a30e69f4249d3dd90ca50f194e84d7986">PLEX_YPOS</a> [<a class="el" href="c64-multiplexer_8c.html#a9c06d141e9c286c978efdb313a870055">PLEX_COUNT</a>]</td></tr>
<tr class="memdesc:a30e69f4249d3dd90ca50f194e84d7986"><td class="mdescLeft">&#160;</td><td class="mdescRight">The y-positions of the multiplexer sprites.  <a href="c64-multiplexer_8c.html#a30e69f4249d3dd90ca50f194e84d7986">More...</a><br /></td></tr>
<tr class="separator:a30e69f4249d3dd90ca50f194e84d7986"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac60883e022e0be604be41f4705024591"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="c64-multiplexer_8c.html#ac60883e022e0be604be41f4705024591">PLEX_PTR</a> [<a class="el" href="c64-multiplexer_8c.html#a9c06d141e9c286c978efdb313a870055">PLEX_COUNT</a>]</td></tr>
<tr class="memdesc:ac60883e022e0be604be41f4705024591"><td class="mdescLeft">&#160;</td><td class="mdescRight">The sprite pointers for the multiplexed sprites.  <a href="c64-multiplexer_8c.html#ac60883e022e0be604be41f4705024591">More...</a><br /></td></tr>
<tr class="separator:ac60883e022e0be604be41f4705024591"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb0dec07f3560e1ba2624fc8604e4993"><td class="memItemLeft" align="right" valign="top">char *volatile&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="c64-multiplexer_8c.html#adb0dec07f3560e1ba2624fc8604e4993">PLEX_SCREEN_PTR</a> = (char*)0x400+0x3f8</td></tr>
<tr class="memdesc:adb0dec07f3560e1ba2624fc8604e4993"><td class="mdescLeft">&#160;</td><td class="mdescRight">The address of the sprite pointers on the current screen (screen+0x3f8).  <a href="c64-multiplexer_8c.html#adb0dec07f3560e1ba2624fc8604e4993">More...</a><br /></td></tr>
<tr class="separator:adb0dec07f3560e1ba2624fc8604e4993"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d2030d5d547c6dc3f2348055e982c73"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="c64-multiplexer_8c.html#a3d2030d5d547c6dc3f2348055e982c73">PLEX_SORTED_IDX</a> [<a class="el" href="c64-multiplexer_8c.html#a9c06d141e9c286c978efdb313a870055">PLEX_COUNT</a>]</td></tr>
<tr class="memdesc:a3d2030d5d547c6dc3f2348055e982c73"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indexes of the plex-sprites sorted by sprite y-position. Each call to <a class="el" href="c64-multiplexer_8h.html#a65bea2e4670a4e777e356aff5d3291bc">plexSort()</a> will fix the sorting if changes to the Y-positions have ruined it.  <a href="c64-multiplexer_8c.html#a3d2030d5d547c6dc3f2348055e982c73">More...</a><br /></td></tr>
<tr class="separator:a3d2030d5d547c6dc3f2348055e982c73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5dc24074c618d7a7251053a209062886"><td class="memItemLeft" align="right" valign="top">volatile char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="c64-multiplexer_8c.html#a5dc24074c618d7a7251053a209062886">plex_show_idx</a> =0</td></tr>
<tr class="separator:a5dc24074c618d7a7251053a209062886"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56d7e6fd0d3d693b7f729ff2c25596b8"><td class="memItemLeft" align="right" valign="top">volatile char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="c64-multiplexer_8c.html#a56d7e6fd0d3d693b7f729ff2c25596b8">plex_sprite_idx</a> =0</td></tr>
<tr class="separator:a56d7e6fd0d3d693b7f729ff2c25596b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb43a5f6389603f0db3a5a0aa64a612e"><td class="memItemLeft" align="right" valign="top">volatile char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="c64-multiplexer_8c.html#afb43a5f6389603f0db3a5a0aa64a612e">plex_sprite_msb</a> =1</td></tr>
<tr class="separator:afb43a5f6389603f0db3a5a0aa64a612e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9de43b53577188a67b0b9013674f1b41"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="c64-multiplexer_8c.html#a9de43b53577188a67b0b9013674f1b41">PLEX_FREE_YPOS</a> [8]</td></tr>
<tr class="separator:a9de43b53577188a67b0b9013674f1b41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a914f0041013a55da725c96304ef7b98f"><td class="memItemLeft" align="right" valign="top">volatile char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="c64-multiplexer_8c.html#a914f0041013a55da725c96304ef7b98f">plex_free_next</a> = 0</td></tr>
<tr class="separator:a914f0041013a55da725c96304ef7b98f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="ac4981278af7315142e759e221fe9506d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4981278af7315142e759e221fe9506d">&#9670;&nbsp;</a></span>plexFreeAdd()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void plexFreeAdd </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>ypos</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Update the data structure to reflect that a sprite has been shown. This sprite will be free again after 21 lines. </p>

<p class="definition">Definition at line <a class="el" href="c64-multiplexer_8c_source.html#l00138">138</a> of file <a class="el" href="c64-multiplexer_8c_source.html">c64-multiplexer.c</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="c64-multiplexer_8c_ac4981278af7315142e759e221fe9506d_icgraph.png" border="0" usemap="#ac64-multiplexer_8c_ac4981278af7315142e759e221fe9506d_icgraph" alt=""/></div>
<map name="ac64-multiplexer_8c_ac4981278af7315142e759e221fe9506d_icgraph" id="ac64-multiplexer_8c_ac4981278af7315142e759e221fe9506d_icgraph">
<area shape="rect" title="Update the data structure to reflect that a sprite has been shown. This sprite will be free again aft..." alt="" coords="165,5,260,32"/>
<area shape="rect" href="c64-multiplexer_8h.html#afc54358b0287f6831ae53c03847c3dac" title=" " alt="" coords="5,5,117,32"/>
</map>
</div>

</div>
</div>
<a id="a4bbab5e4e6ce0a2b102448e0f9b66ffe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4bbab5e4e6ce0a2b102448e0f9b66ffe">&#9670;&nbsp;</a></span>plexFreeNextYpos()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">char plexFreeNextYpos </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the Y-position where the next sprite to be shown is free to use. </p>

<p class="definition">Definition at line <a class="el" href="c64-multiplexer_8c_source.html#l00133">133</a> of file <a class="el" href="c64-multiplexer_8c_source.html">c64-multiplexer.c</a>.</p>

</div>
</div>
<a id="ad712ba9311b9ca904e9b7fe1376d31ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad712ba9311b9ca904e9b7fe1376d31ab">&#9670;&nbsp;</a></span>plexFreePrepare()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void plexFreePrepare </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prepare for a new frame. Initialize free to zero for all sprites. </p>

<p class="definition">Definition at line <a class="el" href="c64-multiplexer_8c_source.html#l00125">125</a> of file <a class="el" href="c64-multiplexer_8c_source.html">c64-multiplexer.c</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="c64-multiplexer_8c_ad712ba9311b9ca904e9b7fe1376d31ab_icgraph.png" border="0" usemap="#ac64-multiplexer_8c_ad712ba9311b9ca904e9b7fe1376d31ab_icgraph" alt=""/></div>
<map name="ac64-multiplexer_8c_ad712ba9311b9ca904e9b7fe1376d31ab_icgraph" id="ac64-multiplexer_8c_ad712ba9311b9ca904e9b7fe1376d31ab_icgraph">
<area shape="rect" title="Prepare for a new frame. Initialize free to zero for all sprites." alt="" coords="124,5,241,32"/>
<area shape="rect" href="c64-multiplexer_8h.html#a65bea2e4670a4e777e356aff5d3291bc" title=" " alt="" coords="5,5,76,32"/>
</map>
</div>

</div>
</div>
<a id="aa5f136c8905628098cd8f58d4139a616"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5f136c8905628098cd8f58d4139a616">&#9670;&nbsp;</a></span>plexInit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void plexInit </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>screen</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the multiplexer data structures. </p>

<p class="definition">Definition at line <a class="el" href="c64-multiplexer_8c_source.html#l00046">46</a> of file <a class="el" href="c64-multiplexer_8c_source.html">c64-multiplexer.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="c64-multiplexer_8c_aa5f136c8905628098cd8f58d4139a616_cgraph.png" border="0" usemap="#ac64-multiplexer_8c_aa5f136c8905628098cd8f58d4139a616_cgraph" alt=""/></div>
<map name="ac64-multiplexer_8c_aa5f136c8905628098cd8f58d4139a616_cgraph" id="ac64-multiplexer_8c_aa5f136c8905628098cd8f58d4139a616_cgraph">
<area shape="rect" title="Initialize the multiplexer data structures." alt="" coords="5,5,68,32"/>
<area shape="rect" href="c64-multiplexer_8c.html#ae26237312d3cd8a59952f961ef23798e" title="Set the address of the current screen used for setting sprite pointers (at screen+0x3f8)" alt="" coords="116,5,223,32"/>
</map>
</div>

</div>
</div>
<a id="ae26237312d3cd8a59952f961ef23798e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae26237312d3cd8a59952f961ef23798e">&#9670;&nbsp;</a></span>plexSetScreen()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void plexSetScreen </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>screen</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the address of the current screen used for setting sprite pointers (at screen+0x3f8) </p>

<p class="definition">Definition at line <a class="el" href="c64-multiplexer_8c_source.html#l00054">54</a> of file <a class="el" href="c64-multiplexer_8c_source.html">c64-multiplexer.c</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="c64-multiplexer_8c_ae26237312d3cd8a59952f961ef23798e_icgraph.png" border="0" usemap="#ac64-multiplexer_8c_ae26237312d3cd8a59952f961ef23798e_icgraph" alt=""/></div>
<map name="ac64-multiplexer_8c_ae26237312d3cd8a59952f961ef23798e_icgraph" id="ac64-multiplexer_8c_ae26237312d3cd8a59952f961ef23798e_icgraph">
<area shape="rect" title="Set the address of the current screen used for setting sprite pointers (at screen+0x3f8)" alt="" coords="116,5,223,32"/>
<area shape="rect" href="c64-multiplexer_8h.html#aa5f136c8905628098cd8f58d4139a616" title="Initialize the multiplexer data structures." alt="" coords="5,5,68,32"/>
</map>
</div>

</div>
</div>
<a id="a13e7f1c7590f0985de5fd70ab7469c52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13e7f1c7590f0985de5fd70ab7469c52">&#9670;&nbsp;</a></span>plexShowNextYpos()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">char plexShowNextYpos </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the y-position of the next sprite to show. </p>

<p class="definition">Definition at line <a class="el" href="c64-multiplexer_8c_source.html#l00114">114</a> of file <a class="el" href="c64-multiplexer_8c_source.html">c64-multiplexer.c</a>.</p>

</div>
</div>
<a id="afc54358b0287f6831ae53c03847c3dac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc54358b0287f6831ae53c03847c3dac">&#9670;&nbsp;</a></span>plexShowSprite()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void plexShowSprite </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Show the next sprite. <a class="el" href="c64-multiplexer_8h.html#a65bea2e4670a4e777e356aff5d3291bc">plexSort()</a> prepares showing the sprites </p>

<p class="definition">Definition at line <a class="el" href="c64-multiplexer_8c_source.html#l00092">92</a> of file <a class="el" href="c64-multiplexer_8c_source.html">c64-multiplexer.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="c64-multiplexer_8c_afc54358b0287f6831ae53c03847c3dac_cgraph.png" border="0" usemap="#ac64-multiplexer_8c_afc54358b0287f6831ae53c03847c3dac_cgraph" alt=""/></div>
<map name="ac64-multiplexer_8c_afc54358b0287f6831ae53c03847c3dac_cgraph" id="ac64-multiplexer_8c_afc54358b0287f6831ae53c03847c3dac_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,117,32"/>
<area shape="rect" href="c64-multiplexer_8c.html#ac4981278af7315142e759e221fe9506d" title="Update the data structure to reflect that a sprite has been shown. This sprite will be free again aft..." alt="" coords="165,5,260,32"/>
</map>
</div>

</div>
</div>
<a id="a65bea2e4670a4e777e356aff5d3291bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65bea2e4670a4e777e356aff5d3291bc">&#9670;&nbsp;</a></span>plexSort()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void plexSort </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Ensure that the indices in PLEX_SORTED_IDX is sorted based on the y-positions in PLEX_YPOS Assumes that the positions are nearly sorted already (as each sprite just moves a bit) Uses an insertion sort:</p><ol type="1">
<li>Moves a marker (m) from the start to end of the array. Every time the marker moves forward all elements before the marker are sorted correctly. 2a. If the next element after the marker is larger that the current element the marker can be moved forwards (as the sorting is correct). 2b. If the next element after the marker is smaller than the current element: elements before the marker are shifted right one at a time until encountering one smaller than the current one. It is then inserted at the spot. Now the marker can move forward. </li>
</ol>

<p class="definition">Definition at line <a class="el" href="c64-multiplexer_8c_source.html#l00067">67</a> of file <a class="el" href="c64-multiplexer_8c_source.html">c64-multiplexer.c</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="c64-multiplexer_8c_a65bea2e4670a4e777e356aff5d3291bc_cgraph.png" border="0" usemap="#ac64-multiplexer_8c_a65bea2e4670a4e777e356aff5d3291bc_cgraph" alt=""/></div>
<map name="ac64-multiplexer_8c_a65bea2e4670a4e777e356aff5d3291bc_cgraph" id="ac64-multiplexer_8c_a65bea2e4670a4e777e356aff5d3291bc_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,76,32"/>
<area shape="rect" href="c64-multiplexer_8c.html#ad712ba9311b9ca904e9b7fe1376d31ab" title="Prepare for a new frame. Initialize free to zero for all sprites." alt="" coords="124,5,241,32"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a9c06d141e9c286c978efdb313a870055"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c06d141e9c286c978efdb313a870055">&#9670;&nbsp;</a></span>PLEX_COUNT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char PLEX_COUNT = 32</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The number of sprites in the multiplexer. </p>
<p>In practice a good method is to wait until the raster is beyond <a class="el" href="c64-multiplexer_8h.html#a4bbab5e4e6ce0a2b102448e0f9b66ffe" title="Get the Y-position where the next sprite to be shown is free to use.">plexFreeNextYpos()</a> and then call <a class="el" href="c64-multiplexer_8h.html#afc54358b0287f6831ae53c03847c3dac">plexShowSprite()</a>. Repeat until all 32 sprites have been shown. TODO: Let the caller specify the number of sprites to use (or add PLEX_ENABLE[PLEX_COUNT]) </p>

<p class="definition">Definition at line <a class="el" href="c64-multiplexer_8c_source.html#l00019">19</a> of file <a class="el" href="c64-multiplexer_8c_source.html">c64-multiplexer.c</a>.</p>

</div>
</div>
<a id="a914f0041013a55da725c96304ef7b98f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a914f0041013a55da725c96304ef7b98f">&#9670;&nbsp;</a></span>plex_free_next</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile char plex_free_next = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="c64-multiplexer_8c_source.html#l00122">122</a> of file <a class="el" href="c64-multiplexer_8c_source.html">c64-multiplexer.c</a>.</p>

</div>
</div>
<a id="a9de43b53577188a67b0b9013674f1b41"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9de43b53577188a67b0b9013674f1b41">&#9670;&nbsp;</a></span>PLEX_FREE_YPOS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char PLEX_FREE_YPOS[8]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="c64-multiplexer_8c_source.html#l00119">119</a> of file <a class="el" href="c64-multiplexer_8c_source.html">c64-multiplexer.c</a>.</p>

</div>
</div>
<a id="ac60883e022e0be604be41f4705024591"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac60883e022e0be604be41f4705024591">&#9670;&nbsp;</a></span>PLEX_PTR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char PLEX_PTR[<a class="el" href="c64-multiplexer_8c.html#a9c06d141e9c286c978efdb313a870055">PLEX_COUNT</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The sprite pointers for the multiplexed sprites. </p>

<p class="definition">Definition at line <a class="el" href="c64-multiplexer_8c_source.html#l00028">28</a> of file <a class="el" href="c64-multiplexer_8c_source.html">c64-multiplexer.c</a>.</p>

</div>
</div>
<a id="adb0dec07f3560e1ba2624fc8604e4993"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb0dec07f3560e1ba2624fc8604e4993">&#9670;&nbsp;</a></span>PLEX_SCREEN_PTR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* volatile PLEX_SCREEN_PTR = (char*)0x400+0x3f8</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The address of the sprite pointers on the current screen (screen+0x3f8). </p>

<p class="definition">Definition at line <a class="el" href="c64-multiplexer_8c_source.html#l00031">31</a> of file <a class="el" href="c64-multiplexer_8c_source.html">c64-multiplexer.c</a>.</p>

</div>
</div>
<a id="a5dc24074c618d7a7251053a209062886"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5dc24074c618d7a7251053a209062886">&#9670;&nbsp;</a></span>plex_show_idx</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile char plex_show_idx =0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="c64-multiplexer_8c_source.html#l00039">39</a> of file <a class="el" href="c64-multiplexer_8c_source.html">c64-multiplexer.c</a>.</p>

</div>
</div>
<a id="a3d2030d5d547c6dc3f2348055e982c73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d2030d5d547c6dc3f2348055e982c73">&#9670;&nbsp;</a></span>PLEX_SORTED_IDX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char PLEX_SORTED_IDX[<a class="el" href="c64-multiplexer_8c.html#a9c06d141e9c286c978efdb313a870055">PLEX_COUNT</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Indexes of the plex-sprites sorted by sprite y-position. Each call to <a class="el" href="c64-multiplexer_8h.html#a65bea2e4670a4e777e356aff5d3291bc">plexSort()</a> will fix the sorting if changes to the Y-positions have ruined it. </p>

<p class="definition">Definition at line <a class="el" href="c64-multiplexer_8c_source.html#l00034">34</a> of file <a class="el" href="c64-multiplexer_8c_source.html">c64-multiplexer.c</a>.</p>

</div>
</div>
<a id="a56d7e6fd0d3d693b7f729ff2c25596b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56d7e6fd0d3d693b7f729ff2c25596b8">&#9670;&nbsp;</a></span>plex_sprite_idx</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile char plex_sprite_idx =0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="c64-multiplexer_8c_source.html#l00041">41</a> of file <a class="el" href="c64-multiplexer_8c_source.html">c64-multiplexer.c</a>.</p>

</div>
</div>
<a id="afb43a5f6389603f0db3a5a0aa64a612e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb43a5f6389603f0db3a5a0aa64a612e">&#9670;&nbsp;</a></span>plex_sprite_msb</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile char plex_sprite_msb =1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="c64-multiplexer_8c_source.html#l00043">43</a> of file <a class="el" href="c64-multiplexer_8c_source.html">c64-multiplexer.c</a>.</p>

</div>
</div>
<a id="a8fd2aa540d1a5a799c399c3c561f9b85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8fd2aa540d1a5a799c399c3c561f9b85">&#9670;&nbsp;</a></span>PLEX_XPOS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int PLEX_XPOS[<a class="el" href="c64-multiplexer_8c.html#a9c06d141e9c286c978efdb313a870055">PLEX_COUNT</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The x-positions of the multiplexer sprites (0x000-0x1ff) </p>

<p class="definition">Definition at line <a class="el" href="c64-multiplexer_8c_source.html#l00022">22</a> of file <a class="el" href="c64-multiplexer_8c_source.html">c64-multiplexer.c</a>.</p>

</div>
</div>
<a id="a30e69f4249d3dd90ca50f194e84d7986"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30e69f4249d3dd90ca50f194e84d7986">&#9670;&nbsp;</a></span>PLEX_YPOS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char PLEX_YPOS[<a class="el" href="c64-multiplexer_8c.html#a9c06d141e9c286c978efdb313a870055">PLEX_COUNT</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The y-positions of the multiplexer sprites. </p>

<p class="definition">Definition at line <a class="el" href="c64-multiplexer_8c_source.html#l00025">25</a> of file <a class="el" href="c64-multiplexer_8c_source.html">c64-multiplexer.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_275089585c7fc1b5fd5d7d42c69cb1da.html">D:</a></li><li class="navelem"><a class="el" href="dir_394ff8aee7398e78ab38baed8ef80807.html">Users</a></li><li class="navelem"><a class="el" href="dir_ef06343bbfb3213895ac2db668e73521.html">svenv</a></li><li class="navelem"><a class="el" href="dir_5e73eeb053445f983fe0388159542862.html">OneDrive</a></li><li class="navelem"><a class="el" href="dir_3bf599e6845e29e8d35315f6ea3603bb.html">Documents</a></li><li class="navelem"><a class="el" href="dir_0bf1bab97aab127d12de66853a6a57d5.html">GitHub</a></li><li class="navelem"><a class="el" href="dir_e5dbe9bf66ecd9e17760f56dda439d3f.html">kickc</a></li><li class="navelem"><a class="el" href="dir_d74372bce37adbb25775f712386cac87.html">src</a></li><li class="navelem"><a class="el" href="dir_932326bbe1ba7dab35b24b896959ddbf.html">main</a></li><li class="navelem"><a class="el" href="dir_e9739b77d3bb0ca31a7035a85ea1f92f.html">kc</a></li><li class="navelem"><a class="el" href="dir_68b9e64d554f0c96710b994476c4b9e2.html">lib</a></li><li class="navelem"><a class="el" href="c64-multiplexer_8c.html">c64-multiplexer.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
